<html>
    <head>
        <title>Particle Test Scene</title>
    </head>

    <style>
        body {margin: 0;}
        canvas {width: 100%; height: 100%;}
    </style>

    <body>
        
        <script src = "js/three.js"></script>
        <script src = "js/OrbitControls.js"></script>
        <script src = "js/functions.js"></script>

        <script src = "js/simplex-noise.js"></script>
        <script src = "js/PlanetGen.js"></script>

        <script src="js/dat.gui.min.js"></script>
        <script src="js/guiBuilder.js"></script>
        <script src="js/planetSelection.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
        <script src="js/zoom.js"></script>

        <script>
            //Setup.
            var scene = new THREE.Scene();
            var ratio = window.innerWidth / window.innerHeight;
            var camera = new THREE.PerspectiveCamera(45, ratio, 0.1, -40000);
            camera.position.set(0, 2000, 7500);
            camera.lookAt(0, 0, 0);
            var initialCamPos = new THREE.Vector3(camera.position.x,camera.position.y,camera.position.z);
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement );

            var clock = new THREE.Clock();
            controls = new THREE.OrbitControls(camera, renderer.domElement);

            //Create the solar system group.
            var sunColour = lerpColours([new THREE.Color(1, 0, 0), new THREE.Color(1, 1, 0), new THREE.Color(1, 1, 1), new THREE.Color(0, 0, 1)]);
            var solarSystem = genSolarSystem(THREE.Math.randInt(3, 9), sunColour);

            //Move the bodies apart.
            positionBodies();

            //Add the solar system to the scene.
            scene.add(solarSystem);

            // Create and Add Selection Torus to Scene
            orbitTorus();

            // Add stars to the scene
            var starfield = genStars(10000, 1000000, 100000);
            scene.add(starfield);

            //Add lights to the scene.
            var pointLight = new THREE.PointLight(sunColour, 3);
            var ambientLight = new THREE.AmbientLight(0xFFFFFF, 0.15)

            scene.add(pointLight);
            scene.add(ambientLight);

            // console.log(scene.children[1].children);

            //var time = (new Date).getTime();
            var time = 0;
            var timeScaleRange = 20000;
            var timeScale = 0;
            var paused = false;

            window.addEventListener('resize', Resize, true);
            document.addEventListener('keydown', onKeyDown, false);

            window.addEventListener('mousemove',onMouseMove,false);
            document.addEventListener('mousedown',onDocumentMouseDown,false);

            requestAnimationFrame(Update);

            buildGui();
        </script>
    </body>
</html>
